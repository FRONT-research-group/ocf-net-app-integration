openapi: 3.0.0
info:
  title: FastAPI
  version: 0.1.0
servers:
- url: https://virtserver.swaggerhub.com/ppavlidis/monitoring-event/0.1.0
  description: SwaggerHub API Auto Mocking
paths:
  /3gpp-monitoring-event/v1/{scsAsId}/subscriptions:
    get:
      tags:
      - MonitoringEvent API AF level GET Operation
      summary: Get Subscriptions
      description: Read all of the active subscriptions for the AF
      operationId: get_subscriptions_3gpp_monitoring_event_v1__scsAsId__subscriptions_get
      parameters:
      - name: scsAsId
        in: path
        required: true
        schema:
          title: Scsasid
          type: string
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                title: Response Get Subscriptions 3Gpp Monitoring Event V1  Scsasid  Subscriptions Get
                type: array
                items:
                  $ref: "#/components/schemas/MonitoringEventSubscriptionResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    post:
      tags:
      - MonitoringEvent API Subscription level POST Operation
      summary: Create Subscription
      description: Creates a new subscription resource for monitoring event notification
      operationId: create_subscription_3gpp_monitoring_event_v1__scsAsId__subscriptions_post
      parameters:
      - name: scsAsId
        in: path
        required: true
        schema:
          title: Scsasid
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MonitoringEventSubscriptionRequest"
        required: true
      responses:
        "200":
          description: 200 OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/inline_response_200"
        "201":
          description: 201 Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MonitoringEventSubscriptionResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      callbacks:
        send_notification:
          '{$request.body.notificationDestination}':
            post:
              summary: Send Notification
              description: No Content (successful notification)
              operationId: send_notification__request_body_notificationDestination__post
              parameters:
              - name: callback_url
                in: query
                required: true
                schema:
                  title: Callback Url
                  type: string
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: "#/components/schemas/MonitoringNotification"
                required: true
              responses:
                "200":
                  description: Successful Response
                  content:
                    application/json:
                      schema:
                        $ref: "#/components/schemas/MonitoringNotificationResponse"
                "422":
                  description: Validation Error
                  content:
                    application/json:
                      schema:
                        $ref: "#/components/schemas/HTTPValidationError"
  /3gpp-monitoring-event/v1/{scsAsId}/subscriptions/{subscriptionId}:
    get:
      tags:
      - MonitoringEvent API Subscription level GET Operation
      summary: Get Subscription By Id
      description: Read an active subscriptions for the AF and the subscription Id
      operationId: get_subscription_by_id_3gpp_monitoring_event_v1__scsAsId__subscriptions__subscriptionId__get
      parameters:
      - name: scsAsId
        in: path
        required: true
        schema:
          title: Scsasid
          type: string
      - name: subscriptionId
        in: path
        required: true
        schema:
          title: Subscriptionid
          type: string
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MonitoringEventSubscriptionResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    put:
      tags:
      - MonitoringEvent API subscription level PUT Operation
      summary: Modify Subscription By Id
      description: Updates/replaces an existing subscription resource
      operationId: modify_subscription_by_id_3gpp_monitoring_event_v1__scsAsId__subscriptions__subscriptionId__put
      parameters:
      - name: scsAsId
        in: path
        required: true
        schema:
          title: Scsasid
          type: string
      - name: subscriptionId
        in: path
        required: true
        schema:
          title: Subscriptionid
          type: string
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MonitoringEventSubscriptionResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    delete:
      tags:
      - MonitoringEvent API Subscription level DELETE Operation
      summary: Delete Subscription By Id
      description: Deletes an already existing monitoring event subscription
      operationId: delete_subscription_by_id_3gpp_monitoring_event_v1__scsAsId__subscriptions__subscriptionId__delete
      parameters:
      - name: scsAsId
        in: path
        required: true
        schema:
          title: Scsasid
          type: string
      - name: subscriptionId
        in: path
        required: true
        schema:
          title: Subscriptionid
          type: string
      responses:
        "200":
          description: 200 OK
          content:
            application/json:
              schema:
                title: Response 200 Delete Subscription By Id 3Gpp Monitoring Event V1  Scsasid  Subscriptions  Subscriptionid  Delete
                type: array
                items:
                  $ref: "#/components/schemas/MonitoringEventReport-Output"
        "204":
          description: 204 No Content
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
components:
  schemas:
    Accuracy:
      title: Accuracy
      type: string
      enum:
      - CGI_ECGI
      - TA_RA
      - GEO_AREA
      - CIVIC_ADDR
    DurationMin:
      title: DurationMin
      type: object
      properties:
        duration:
          title: Duration
          minimum: 0
          type: integer
          description: Unsigned integer identifying a period of time in units of minutes
          default: 0
    DurationSec:
      title: DurationSec
      type: object
      properties:
        duration:
          title: Duration
          type: integer
          description: Unsigned integer identifying a period of time in units of seconds
          default: 0
    GeographicArea-Input:
      title: GeographicArea
      type: object
      properties:
        polygon:
          description: Identifies a polygonal geographic area.
          anyOf:
          - $ref: "#/components/schemas/Polygon-Input"
          - type: "null"
    GeographicArea-Output:
      title: GeographicArea
      type: object
      properties:
        polygon:
          description: Identifies a polygonal geographic area.
          anyOf:
          - $ref: "#/components/schemas/Polygon-Output"
          - type: "null"
    GeographicalCoordinates:
      title: GeographicalCoordinates
      required:
      - lat
      - lon
      type: object
      properties:
        lon:
          title: Lon
          type: number
          description: Longitude coordinate.
        lat:
          title: Lat
          type: number
          description: Latitude coordinate.
    HTTPValidationError:
      title: HTTPValidationError
      type: object
      properties:
        detail:
          title: Detail
          type: array
          items:
            $ref: "#/components/schemas/ValidationError"
    LocationFailureCause:
      title: LocationFailureCause
      type: string
      enum:
      - POSITIONING_DENIED
      - UNSUPPORTED_BY_UE
      - NOT_REGISTERED_UE
      - UNSPECIFIED
    LocationInfo-Input:
      title: LocationInfo
      type: object
      properties:
        ageOfLocationInfo:
          description: Indicates the elapsed time since the last network contact of the UE.
          anyOf:
          - $ref: "#/components/schemas/DurationMin"
          - type: "null"
        cellId:
          title: Cellid
          description: Cell ID where the UE is located.
          anyOf:
          - type: string
          - type: "null"
        trackingAreaId:
          title: Trackingareaid
          description: TrackingArea ID where the UE is located.
          anyOf:
          - type: string
          - type: "null"
        enodeBId:
          title: Enodebid
          description: eNodeB ID where the UE is located.
          anyOf:
          - type: string
          - type: "null"
        routingAreaId:
          title: Routingareaid
          description: Routing Area ID where the UE is located
          anyOf:
          - type: string
          - type: "null"
        plmnId:
          description: PLMN ID where the UE is located.
          anyOf:
          - $ref: "#/components/schemas/PlmnId"
          - type: "null"
        twanId:
          title: Twanid
          description: TWAN ID where the UE is located.
          anyOf:
          - type: string
          - type: "null"
        geographicArea:
          description: Identifies a geographic area of the user where the UE is located.
          anyOf:
          - $ref: "#/components/schemas/GeographicArea-Input"
          - type: "null"
    LocationInfo-Output:
      title: LocationInfo
      type: object
      properties:
        ageOfLocationInfo:
          description: Indicates the elapsed time since the last network contact of the UE.
          anyOf:
          - $ref: "#/components/schemas/DurationMin"
          - type: "null"
        cellId:
          title: Cellid
          description: Cell ID where the UE is located.
          anyOf:
          - type: string
          - type: "null"
        trackingAreaId:
          title: Trackingareaid
          description: TrackingArea ID where the UE is located.
          anyOf:
          - type: string
          - type: "null"
        enodeBId:
          title: Enodebid
          description: eNodeB ID where the UE is located.
          anyOf:
          - type: string
          - type: "null"
        routingAreaId:
          title: Routingareaid
          description: Routing Area ID where the UE is located
          anyOf:
          - type: string
          - type: "null"
        plmnId:
          description: PLMN ID where the UE is located.
          anyOf:
          - $ref: "#/components/schemas/PlmnId"
          - type: "null"
        twanId:
          title: Twanid
          description: TWAN ID where the UE is located.
          anyOf:
          - type: string
          - type: "null"
        geographicArea:
          description: Identifies a geographic area of the user where the UE is located.
          anyOf:
          - $ref: "#/components/schemas/GeographicArea-Output"
          - type: "null"
    LocationType:
      title: LocationType
      type: string
      enum:
      - CURRENT_LOCATION
      - LAST_KNOWN_LOCATION
    MonitoringEventReport-Input:
      title: MonitoringEventReport
      required:
      - monitoringType
      type: object
      properties:
        externalId:
          title: Externalid
          description: "Identifies a user, clause 4.6.2 TS 23.682"
          anyOf:
          - type: string
          - type: "null"
        msisdn:
          title: Msisdn
          description: Identifies the MS internal PSTN/ISDN number allocated for a UE.
          anyOf:
          - type: string
          - type: "null"
        locationInfo:
          description: Indicates the user location related information.
          anyOf:
          - $ref: "#/components/schemas/LocationInfo-Input"
          - type: "null"
        locFailureCause:
          description: Indicates the location positioning failure cause.
          anyOf:
          - $ref: "#/components/schemas/LocationFailureCause"
          - type: "null"
        monitoringType:
          $ref: "#/components/schemas/MonitoringType"
        eventTime:
          title: Eventtime
          description: Identifies when the event is detected or received. Shall be included for each group of UEs.
          anyOf:
          - type: string
            format: date-time
          - type: "null"
    MonitoringEventReport-Output:
      title: MonitoringEventReport
      required:
      - monitoringType
      type: object
      properties:
        externalId:
          title: Externalid
          description: "Identifies a user, clause 4.6.2 TS 23.682"
          anyOf:
          - type: string
          - type: "null"
        msisdn:
          title: Msisdn
          description: Identifies the MS internal PSTN/ISDN number allocated for a UE.
          anyOf:
          - type: string
          - type: "null"
        locationInfo:
          description: Indicates the user location related information.
          anyOf:
          - $ref: "#/components/schemas/LocationInfo-Output"
          - type: "null"
        locFailureCause:
          description: Indicates the location positioning failure cause.
          anyOf:
          - $ref: "#/components/schemas/LocationFailureCause"
          - type: "null"
        monitoringType:
          $ref: "#/components/schemas/MonitoringType"
        eventTime:
          title: Eventtime
          description: Identifies when the event is detected or received. Shall be included for each group of UEs.
          anyOf:
          - type: string
            format: date-time
          - type: "null"
    MonitoringEventSubscriptionRequest:
      title: MonitoringEventSubscriptionRequest
      required:
      - monitoringType
      - notificationDestination
      type: object
      properties:
        accuracy:
          description: Accuracy represents a desired granularity of accuracy of the requested location information.
          anyOf:
          - $ref: "#/components/schemas/Accuracy"
          - type: "null"
        externalId:
          title: Externalid
          description: Identifies a user clause 4.6.2 TS 23.682 (optional)
          anyOf:
          - type: string
          - type: "null"
        msisdn:
          title: Msisdn
          description: Identifies the MS internal PSTN/ISDN number allocated for a UE.
          anyOf:
          - type: string
          - type: "null"
        ipv4Addr:
          title: Ipv4Addr
          description: Identifies the Ipv4 address.
          anyOf:
          - type: string
            format: ipvanyaddress
          - type: "null"
        ipv6Addr:
          title: Ipv6Addr
          description: Identifies the Ipv6 address.
          anyOf:
          - type: string
            format: ipvanyaddress
          - type: "null"
        notificationDestination:
          title: Notificationdestination
          minLength: 1
          type: string
          description: URI of a notification destination that the T8 message shall be delivered to.
          format: uri
        monitoringType:
          $ref: "#/components/schemas/MonitoringType"
        maximumNumberOfReports:
          title: Maximumnumberofreports
          description: Identifies the maximum number of event reports to be generated by the AMF to the NEF and then the AF.
          anyOf:
          - type: integer
          - type: "null"
        monitorExpireTime:
          title: Monitorexpiretime
          description: Identifies the absolute time at which the related monitoring event request is considered to expire.
          anyOf:
          - type: string
            format: date-time
          - type: "null"
        locationType:
          description: "Indicates whether the request is for Current Location, Initial Location, or Last Known Location."
          anyOf:
          - $ref: "#/components/schemas/LocationType"
          - type: "null"
        repPeriod:
          description: Identifies the periodic time for the event reports.
          anyOf:
          - $ref: "#/components/schemas/DurationSec"
          - type: "null"
        minimumReportInterval:
          description: identifies a minimum time interval between Location Reporting notifications
          anyOf:
          - $ref: "#/components/schemas/DurationSec"
          - type: "null"
    MonitoringEventSubscriptionResponse:
      title: MonitoringEventSubscriptionResponse
      required:
      - monitoringType
      - self_link
      type: object
      properties:
        self_link:
          title: Self Link
          minLength: 1
          type: string
          description: "Supplied by NEF in HTTP responses, Individual Monitoring Event Subscription, Cardinality optional."
          format: uri
        externalId:
          title: Externalid
          description: Identifies a user clause 4.6.2 TS 23.682 (optional)
          anyOf:
          - type: string
          - type: "null"
        msisdn:
          title: Msisdn
          description: Identifies the MS internal PSTN/ISDN number allocated for a UE.
          anyOf:
          - type: string
          - type: "null"
        ipv4Addr:
          title: Ipv4Addr
          description: Identifies the Ipv4 address.
          anyOf:
          - type: string
            format: ipvanyaddress
          - type: "null"
        ipv6Addr:
          title: Ipv6Addr
          description: Identifies the Ipv6 address.
          anyOf:
          - type: string
            format: ipvanyaddress
          - type: "null"
        monitoringType:
          $ref: "#/components/schemas/MonitoringType"
        maximumNumberOfReports:
          title: Maximumnumberofreports
          description: Identifies the maximum number of event reports to be generated by the AMF to the NEF and then the AF.
          anyOf:
          - type: integer
          - type: "null"
        monitorExpireTime:
          title: Monitorexpiretime
          description: Identifies the absolute time at which the related monitoring event request is considered to expire.
          anyOf:
          - type: string
            format: date-time
          - type: "null"
        monitoringEventReport:
          description: Identifies a monitoring event report which is sent from the NEF to the AF.
          anyOf:
          - $ref: "#/components/schemas/MonitoringEventReport-Output"
          - type: "null"
    MonitoringNotification:
      title: MonitoringNotification
      required:
      - subscription
      type: object
      properties:
        subscription:
          title: Subscription
          minLength: 1
          type: string
          description: Link to the subscription resource to which this notification is related.
          format: uri
        monitoringEventReports:
          title: Monitoringeventreports
          description: Each element identifies a monitoring event report (optional).
          anyOf:
          - type: array
            items:
              $ref: "#/components/schemas/MonitoringEventReport-Input"
          - type: "null"
        cancelInd:
          title: Cancelind
          description: Indicates whether to request to cancel the corresponding monitoring subscription. Set to false or omitted otherwise.
          anyOf:
          - type: boolean
          - type: "null"
          default: false
    MonitoringNotificationResponse:
      title: MonitoringNotificationResponse
      type: object
      properties: {}
    MonitoringType:
      title: MonitoringType
      type: string
      enum:
      - LOCATION_REPORTING
    PlmnId:
      title: PlmnId
      required:
      - mcc
      - mnc
      type: object
      properties:
        mcc:
          title: Mcc
          type: string
          description: "String encoding a Mobile Country Code, comprising of 3 digits."
        mnc:
          title: Mnc
          type: string
          description: "String encoding a Mobile Network Code, comprising of 2 or 3 digits."
    PointList:
      title: PointList
      required:
      - geographical_coords
      type: object
      properties:
        geographical_coords:
          title: Geographical Coords
          maxItems: 15
          minItems: 3
          type: array
          description: List of geographical coordinates defining the points.
          items:
            $ref: "#/components/schemas/GeographicalCoordinates"
    Polygon-Input:
      title: Polygon
      required:
      - point_list
      type: object
      properties:
        point_list:
          $ref: "#/components/schemas/PointList"
    Polygon-Output:
      title: Polygon
      required:
      - point_list
      type: object
      properties:
        point_list:
          $ref: "#/components/schemas/PointList"
    ValidationError:
      title: ValidationError
      required:
      - loc
      - msg
      - type
      type: object
      properties:
        loc:
          title: Location
          type: array
          items:
            anyOf:
            - type: string
            - type: integer
        msg:
          title: Message
          type: string
        type:
          title: Error Type
          type: string
    inline_response_200:
      $ref: "#/components/schemas/MonitoringEventReport-Output"
